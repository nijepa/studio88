(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["payment"],{1175:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loadingState?n("loading",{key:"1",attrs:{pic:"loading"}}):n("div",{key:"2",staticClass:"lists__wrapper"},[n("form",{staticClass:"user__form",attrs:{method:"post"},on:{submit:function(e){return e.preventDefault(),t.addPayment()}}},[t.getOnePayment._id?t._e():n("h3",{staticClass:"new_item item__header"},[n("svg",{staticStyle:{"enable-background":"new 0 0 30 30"},attrs:{version:"1.1",id:"Capa_1",x:"0px",y:"0px",width:"30px",height:"30px",viewBox:"0 0 30 30",fill:"var(--gold)","xml:space":"preserve"}},[n("path",{attrs:{d:"M15,0C6.729,0,0,6.729,0,15c0,8.271,6.729,15,15,15c8.271,0,15-6.729,15-15C30,6.729,23.271,0,15,0z M15,27.777\n            C7.956,27.777,2.223,22.046,2.223,15S7.956,2.223,15,2.223S27.777,7.954,27.777,15S22.044,27.777,15,27.777z"}}),n("path",{attrs:{d:"M15,3.5C8.66,3.5,3.5,8.659,3.5,15S8.66,26.5,15,26.5S26.5,21.341,26.5,15S21.34,3.5,15,3.5z M19.145,10.677\n            c-0.754-0.593-1.61-0.89-2.568-0.89c-0.741,0-1.395,0.239-1.957,0.718c-0.563,0.479-0.963,1.116-1.199,1.912h4.309v1.891h-4.611\n            c-0.027,0.397-0.041,0.674-0.041,0.829c0,0.184,0.007,0.381,0.02,0.598h4.63v1.922h-4.328c0.506,1.699,1.514,2.548,3.024,2.548\n            c0.95,0,1.856-0.304,2.72-0.911v2.488c-0.795,0.484-1.832,0.728-3.115,0.728c-1.516,0-2.753-0.42-3.71-1.259\n            s-1.591-2.038-1.901-3.595H9.182v-1.923h0.971c-0.014-0.168-0.021-0.367-0.021-0.597c0-0.12,0.014-0.396,0.041-0.829H9.182v-1.891\n            h1.285c0.37-1.558,1.072-2.768,2.103-3.63c1.032-0.863,2.316-1.295,3.853-1.295c1.126,0,2.032,0.186,2.72,0.557v2.629H19.145z"}})]),t._v(" NOVA PLAĆANJA ")]),n("div",{staticClass:"input__group"},[n("div",{staticClass:"input__field"},[n("label",{attrs:{for:"name"}},[t._v("Godina")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.paymentInput.payment_year,expression:"paymentInput.payment_year"}],staticClass:"login_input user_input",attrs:{type:"number",name:"name",placeholder:"godina"},domProps:{value:t.paymentInput.payment_year},on:{input:function(e){e.target.composing||t.$set(t.paymentInput,"payment_year",e.target.value)}}})]),n("div",{staticClass:"input__field"},[n("label",{attrs:{for:"days"+t.paymentInput.payment_month}},[t._v("Mjesec")]),n("div",{staticClass:"login_input user_input"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.paymentInput.payment_month,expression:"paymentInput.payment_month"}],attrs:{name:"days",id:"days"+t.paymentInput.payment_month,required:""},domProps:{value:t.paymentInput.payment_month},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.paymentInput,"payment_month",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"Januar"}},[t._v("Januar")]),n("option",{attrs:{value:"Februar"}},[t._v("Februar")]),n("option",{attrs:{value:"Mart"}},[t._v("Mart")]),n("option",{attrs:{value:"April"}},[t._v("April")]),n("option",{attrs:{value:"Maj"}},[t._v("Maj")]),n("option",{attrs:{value:"Jun"}},[t._v("Jun")]),n("option",{attrs:{value:"Jul"}},[t._v("Jul")]),n("option",{attrs:{value:"Avgust"}},[t._v("Avgust")]),n("option",{attrs:{value:"Septembar"}},[t._v("Septembar")]),n("option",{attrs:{value:"Oktobar"}},[t._v("Oktobar")]),n("option",{attrs:{value:"Novembar"}},[t._v("Novembar")]),n("option",{attrs:{value:"Decembar"}},[t._v("Decembar")])])])]),n("div",{staticClass:"input__field"},[n("label",{attrs:{for:"price"}},[t._v("Cijena")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.paymentInput.price,expression:"paymentInput.price"}],staticClass:"login_input user_input",attrs:{type:"number",id:"price",placeholder:"cijena",value:"35",required:""},domProps:{value:t.paymentInput.price},on:{input:function(e){e.target.composing||t.$set(t.paymentInput,"price",e.target.value)}}})]),n("div",{staticClass:"input__field"},[n("label",{attrs:{for:"datePicker"}},[t._v("Datum plaćanja")]),n("datepicker",{staticClass:"login_input user_input",attrs:{placeholder:"datum plaćanja",language:t.sr},model:{value:t.paymentInput.payment_date,callback:function(e){t.$set(t.paymentInput,"payment_date",e)},expression:"paymentInput.payment_date"}})],1),n("div",{staticClass:"att_totals"},[n("h4",[t._v("Ukupno: "+t._s(t.totalToPay()))]),n("h4",[t._v("Plaćeno: "+t._s(t.totalPayed()))])])]),n("div",{staticClass:"members__list"},[n("div",{staticClass:"members__items"},[n("search-bar",{attrs:{searchStr:t.search,pageSizeNr:t.pageSize},on:{changed:t.setPageSize,typed:t.searchItems}}),n("div",{},[n("div",{staticClass:"akcije"},[n("tooltip",{attrs:{tip:"Omogućava dodavanje vježbačica koje nisu u listi, kao i brisanje postojećih iz liste"}}),n("button",{staticClass:"btn__auto btn__auto_toggle",on:{click:function(e){return e.preventDefault(),t.toggleActions()}}},[t._v(" "+t._s(t.btn_title)+" ")]),n("transition",{attrs:{name:"list",mode:"out-in"}},[t.actions?n("form",{staticClass:"form__auto",on:{submit:t.handleFormSubmit}},[n("autocomplete",{ref:"autocomplete",attrs:{search:t.searchClientsAdd,"get-result-value":t.getResultValue,placeholder:"traži (ime) vježbačicu koja nije u listi"},on:{submit:t.handleSubmit}}),n("button",{staticClass:"btn__auto btn__auto_submit",attrs:{type:"submit"}},[n("svg",{staticStyle:{fill:"var(--purple)"},attrs:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",height:"20px",viewBox:"0 0 300.003 300.003"}},[n("path",{attrs:{d:"M150,0C67.159,0,0.001,67.159,0.001,150c0,82.838,67.157,150.003,149.997,150.003S300.002,232.838,300.002,150\n                          C300.002,67.159,232.839,0,150,0z M213.281,166.501h-48.27v50.469c-0.003,8.463-6.863,15.323-15.328,15.323\n                          c-8.468,0-15.328-6.86-15.328-15.328v-50.464H87.37c-8.466-0.003-15.323-6.863-15.328-15.328c0-8.463,6.863-15.326,15.328-15.328\n                          l46.984,0.003V91.057c0-8.466,6.863-15.328,15.326-15.328c8.468,0,15.331,6.863,15.328,15.328l0.003,44.787l48.265,0.005\n                          c8.466-0.005,15.331,6.86,15.328,15.328C228.607,159.643,221.742,166.501,213.281,166.501z"}})])])],1):t._e()])],1),n("div",{staticClass:"days__list payments__list"},[n("span",[t._v("Vježbačica")]),n("span",[t._v("Datum")]),n("span",[t._v("Iznos")]),n("span",[t._v("Napomena")])]),t._l(t.pageOfItems,(function(e){return n("div",{key:e._id,staticClass:"members_input att_members pay__members",attrs:{name:"member"}},[n("div",{staticClass:"att_member"},[t._v(" "+t._s(t.paymentInput.members.map((function(t){return t.client._id})).indexOf(e.client._id)+1)+" "+t._s(e.client.last_name)+", "+t._s(e.client.first_name)+" ")]),n("datepicker",{staticClass:"login_input user_input",attrs:{placeholder:"datum plaćanja",language:t.sr},model:{value:e.payment_date,callback:function(n){t.$set(e,"payment_date",n)},expression:"member.payment_date"}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.payment_amount,expression:"member.payment_amount"}],staticClass:"login_input user_input payment__price",attrs:{type:"number"},domProps:{value:e.payment_amount},on:{input:function(n){n.target.composing||t.$set(e,"payment_amount",n.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.note,expression:"member.note"}],staticClass:"login_input user_input payment__note",attrs:{type:"text"},domProps:{value:e.note},on:{input:function(n){n.target.composing||t.$set(e,"note",n.target.value)}}}),t.actions?n("svg",{staticClass:"btn_minus",staticStyle:{fill:"var(--purple)"},attrs:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",height:"20px",viewBox:"0 0 300.003 300.003","xml:space":"preserve"},on:{click:function(n){return t.removeClient(e)}}},[n("path",{attrs:{d:"M150.001,0c-82.843,0-150,67.159-150,150c0,82.838,67.157,150.003,150,150.003c82.838,0,150-67.165,150-150.003\n                      C300.001,67.159,232.838,0,150.001,0z M197.218,166.283H92.41c-8.416,0-15.238-6.821-15.238-15.238s6.821-15.238,15.238-15.238\n                      H197.22c8.416,0,15.238,6.821,15.238,15.238S205.634,166.283,197.218,166.283z"}})]):t._e()],1)}))],2)],1)]),n("jw-pagination",{staticClass:"pagine",attrs:{items:t.filteredClients,initialPage:t.initialPage,pageSize:t.pageSize,labels:t.customLabels,styles:t.customStyles},on:{changePage:t.onChangePage}}),n("div",{staticClass:"modify_btns"},[n("action-buttons",{attrs:{toForm:"payments"}}),n("delete-button",{on:{clicked:function(e){return t.delClient()}}})],1)],1)])},i=[],r=(n("4de4"),n("7db0"),n("c740"),n("caad"),n("d81d"),n("13d5"),n("a434"),n("a9e3"),n("2532"),n("2ca0"),n("96cf"),n("1da1")),s=n("5530"),c=n("2f62"),o=n("7d33"),l=n("d149"),u=n("8351"),m=n("88d8"),p=n("d41d"),d=n("05fc"),f=n("ab63"),_=n("ca91"),h=n("7146"),v=n("c7e8"),g=n("87fd"),y=n("fa33"),b=n("2430"),C=n("95bf"),P=n("5a0c"),w=n.n(P),x=n("f1e9"),S=n.n(x);w.a.locale(S.a);var j={name:"Payment",components:{Loading:o["a"],Datepicker:y["a"],SearchBar:u["a"],ActionButtons:m["a"],DeleteButton:p["a"],Tooltip:d["a"],Autocomplete:C["a"]},mixins:[f["a"],h["a"],v["a"],_["a"],g["a"]],data:function(){return{sr:b["sr"],customLabels:l["a"],customStyles:l["b"],paymentInput:{payment_year:w()(new Date).format("YYYY"),payment_month:this.checkMonth(),payment_date:new Date,price:35,notes:"",members:[]},year:0,notClients:[],selectedDate:new Date,actions:!1,input:"",foundClient:{_id:"",note:"",present:!0},btn_title:"dodatne opcije"}},computed:Object(s["a"])({},Object(c["c"])(["getAllPayments","getOnePayment","getAllClients","getClientsPageSize","getErrors","getPrice","loadingState"])),methods:Object(s["a"])(Object(s["a"])({},Object(c["b"])(["paymentAdd","paymentUpdate","paymentDelete","fetchClients","fetchClientsPageSize","fetchPayments","clearErrors","setLoadingState"])),{},{toggleActions:function(){this.actions=!this.actions,"dodatne opcije"===this.btn_title?this.btn_title="sakrij":this.btn_title="dodatne opcije"},searchClientsAdd:function(t){return this.input=t,this.submitted=!1,this.notClients.filter((function(e){return e.first_name.toLowerCase().startsWith(t.toLowerCase())}))},getResultValue:function(t){return t.last_name+", "+t.first_name+" - "+t.mobile},handleSubmit:function(t){this.submittedResult=t,this.foundClient.client=t,this.foundClient._id=this.foundClient.client._id},handleFormSubmit:function(t){var e=this;t.preventDefault(),this.foundClient._id&&(this.paymentInput.members.unshift(this.foundClient),this.notClients.splice(this.notClients.findIndex((function(t){return t._id===e.foundClient._id})),1),this.foundClient={_id:"",note:"",present:!0},this.input="",this.value="",this.$refs.autocomplete.value="")},removeClient:function(t){this.paymentInput.members.splice(this.filteredClients.findIndex((function(e){return e._id===t._id})),1),this.notClients.push(t.client)},totalToPay:function(){return this.filteredClients.length*this.paymentInput.price},totalPayed:function(){return this.filteredClients.reduce((function(t,e){var n=e.payment_amount;return t+Number(n)}),0)},addPayment:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.setLoadingState(!0),!t.getOnePayment._id){e.next=8;break}return e.next=4,t.paymentUpdate(t.paymentInput);case 4:return e.next=6,t.fetchPayments();case 6:e.next=10;break;case 8:return e.next=10,t.paymentAdd(t.paymentInput);case 10:t.setLoadingState(!1),t.getErrors.length?(t.$toast.error("Greška! "+t.getErrors,"OK",t.notificationSystem.options.error),t.clearErrors()):(t.$toast.success("Uspješno sačuvano!","OK",t.notificationSystem.options.success),t.$router.push("/payments"));case 12:case"end":return e.stop()}}),e)})))()},addAllmembers:function(){for(var t=0;t<this.getAllClients.filter((function(t){return!1!==t.active})).length;t++)this.paymentInput.members.push({client:this.getAllClients.filter((function(t){return!1!==t.active}))[t],payment_date:this.selectedDate,payment_amount:this.paymentInput.price,note:""});this.notClients=[]},mapMembers:function(){return this.paymentInput.members.map((function(t){var e={};return e=t.client,e}))},delEx:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.paymentDelete(t.getOnePayment);case 2:t.$toast.success("Uspješno obrisano!","OK",t.notificationSystem.options.success),t.$router.push("/payments");case 4:case"end":return e.stop()}}),e)})))()},searchItems:function(){var t=arguments,e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.length>0&&void 0!==t[0]?t[0]:"",n.next=3,e.initItems();case 3:i=e.paymentInput.members.filter((function(t){return t.client.first_name.toLowerCase().includes(a.toLowerCase())||t.client.last_name.toLowerCase().includes(a.toLowerCase())||t.client.mobile.includes(a)})),e.filteredClients=i;case 5:case"end":return n.stop()}}),n)})))()},initItems:function(){var t=this;this.getOnePayment._id?(this.paymentInput=this.getOnePayment,this.notClients=this.getAllClients.filter((function(e){return!t.mapMembers().find((function(t){var n=t._id;return e._id===n}))}))):(this.notClients=this.getAllClients.filter((function(t){return!1!==t.active})),this.paymentInput.price=this.getPrice,this.paymentInput.members=[],this.addAllmembers()),10!==this.getClientsPageSize&&(this.pageSize=this.getClientsPageSize)}}),mounted:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=new Date,n=w()().format("YYYY"),t.year=n,t.getAllClients.length){e.next=6;break}return e.next=6,t.fetchClients();case 6:t.initItems(),t.filteredClients=t.paymentInput.members,t.setLoadingState(!1);case 9:case"end":return e.stop()}}),e)})))()}},I=j,k=(n("5fd7"),n("2877")),O=Object(k["a"])(I,a,i,!1,null,null,null);e["default"]=O.exports},"18b9":function(t,e,n){"use strict";var a=n("1c2c"),i=n.n(a);i.a},"1c2c":function(t,e,n){},"2f60":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dash__text search_group",class:t.isGrid?"is__grid":""},[t._v(" Period od "),n("datepicker",{staticClass:"datepicker noborder",attrs:{language:t.sr,format:t.customFormatter},on:{input:function(e){return t.selectPeriod()}},model:{value:t.dateFrom,callback:function(e){t.dateFrom=e},expression:"dateFrom"}}),t._v(" do "),n("datepicker",{staticClass:"datepicker noborder",attrs:{language:t.sr,format:t.customFormatter},on:{input:function(e){return t.selectPeriod()}},model:{value:t.dateTill,callback:function(e){t.dateTill=e},expression:"dateTill"}})],1)},i=[],r=(n("fb6a"),n("96cf"),n("1da1")),s=n("5530"),c=n("2f62"),o=n("fa33"),l=n("2430"),u=n("5a0c"),m=n.n(u),p={name:"Period",components:{Datepicker:o["a"]},props:{isGrid:{type:Boolean,default:!1}},data:function(){return{sr:l["sr"],yearSelected:(new Date).getFullYear(),dateFrom:this.getPreviousMonday(),dateTill:(new Date).toISOString().slice(0,10)}},computed:Object(s["a"])({},Object(c["c"])(["getPeriod"])),methods:Object(s["a"])(Object(s["a"])({},Object(c["b"])(["fetchPeriod"])),{},{customFormatter:function(t){return m()(t).format("DD MMM YYYY")},getPreviousMonday:function(){var t=new Date,e=new Date(t.getFullYear(),0,2);return new Date(e).toISOString().slice(0,10)},selectPeriod:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={dateFrom:t.dateFrom,dateTill:t.dateTill},e.next=3,t.fetchPeriod(n);case 3:t.$emit("filter-period",t.dateFrom,t.dateTill);case 4:case"end":return e.stop()}}),e)})))()},isEmpty:function(t){for(var e in t)return!1;return!0}}),mounted:function(){this.isEmpty(this.getPeriod)||(this.dateFrom=this.getPeriod.dateFrom,this.dateTill=this.getPeriod.dateTill),this.$emit("dates",this.dateFrom,this.dateTill)}},d=p,f=(n("cd74"),n("2877")),_=Object(f["a"])(d,a,i,!1,null,null,null);e["a"]=_.exports},"5fd7":function(t,e,n){"use strict";var a=n("981a"),i=n.n(a);i.a},"88ad":function(t,e,n){},"981a":function(t,e,n){},b755:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[t.loadingState?n("loading",{key:"1",attrs:{pic:"loading"}}):n("div",{key:"2",staticClass:"client__wrapper"},[n("div",{staticClass:"clients__manipulate"},[n("div",{staticClass:"clients__actions"},[n("button",{staticClass:"action_btn client__add",attrs:{type:"submit"},on:{click:function(e){return t.newPayment()}}},[n("svg",{attrs:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",fill:"var(--purple)",width:"50px",height:"50px",viewBox:"0 0 1718.107 1659.385","enable-background":"new 0 0 1718.107 1659.385","xml:space":"preserve"}},[n("g",[n("path",{attrs:{d:"M1678.085,1404.443c-2.942-1.281-6.436-1.743-8.503-4.458c-7.395-9.709-19.912-15.579-28.978-23.396\n                c-6.481-5.588-3.711-4.664-24.96-19.847c-4.349-2.845-6.314-12.022-14.582-8.566c-1.909,1.509-2.901,3.866-4.741,5.437\n                c-15.227,0.075-80.589-33.218-116.006-54.574c-58.888-35.509-27.97-16.459-59.962-32.318\n                c-112.914-64.49-113.05-64.136-210.18-82.383c-15.367-2.887-31.103-3.375-46.305-7.741c-9.567-2.747-17.817-8.159-26.741-12.345\n                c-93.146-43.687-32.857-12.772-190.492-138.408c-1-0.996-19.368-15.461-27.393-25.07c-3.26-3.825-7.553-6.65-10.571-10.681\n                c-0.972-1.75-0.469-3.942-1.309-5.706c-1.771-1.688-4.307-2.04-6.326-3.266c-3.322-2.984-3.956-7.76-6.788-11.116\n                c-4.285-4.907-15.206-16.106-15.23-23.458c0.392-17.954-20.182-64.773-53.042-95.685c-13.693-13.898-47.767-32.83-52.063-34.773\n                c-0.186-2.433-2.212-3.618-3.673-5.217c-9.227-20.226-18.118-6.888-22.782-5.706c-2.157,0.531-3.273-1.675-4.321-3.115\n                c-5.902-9.563-29.751-22.935-31.183-23.968c-1.888-1.854-3.067-4.266-4.576-6.402c-2.439-3.907-6.106-6.843-8.421-10.833\n                c-3.184-5.672-8.504-9.772-14.203-12.708c-22.135-10.699-20.964-2.095-27.524-13.838c-1.316-2.302-1.447-5.003-1.461-7.587\n                c0.014-3.411-1.826-6.409-2.66-9.627c-3.556-12.032-4.056-8.861-8.566-14.203c-0.806-1.937-0.455-4.197-1.433-6.085\n                c-2.136-3.983-7.112-5.547-8.814-9.834c-2.329-5.52-2.295-11.75-4.907-17.18c-1.564-3.384-0.338-7.277-1.757-10.695\n                c-1.806-4.665-3.308-9.441-5.141-14.093c-1.454-3.501-1.047-7.525-2.929-10.861c-1.606-3.253-1.544-6.981-2.122-10.482\n                c-0.165-1.001-9.567-35.106-9.338-39.576c0.138-4.424-1.861-8.469-2.901-12.673c-3.074-19.491-5.86-51.532-11.198-75.032\n                c-0.184-1-9.33-33.249-6.712-39.687c1.792,0.868,3.673,2.116,5.754,1.392c-0.276-1.295,0.007-2.853-0.992-3.873\n                c-1.647-1.894-10.927-8.77-5.534-13.252c2.157-2.095,2.667-5.168,3.294-7.98c0.655-2.874-1.316-5.403-2.667-7.746\n                c-3.303-5.771-11.736-2.21-10.399-22.734c-4.996-20.164-11.149-19.904-12.935-28.557c-0.462-1.682-0.4-3.604-1.482-5.044\n                c-3.411-2.536-8.07-3.032-10.992-6.285c-10.938-12.276-10.341-9.435-6.547-15.023c2.384-2.736,2.364-7.16,5.651-9.138\n                c8.034-1.286,15.513,2.879,13.893-6.878c-0.799-4.293-4.3-7.181-6.278-10.861c-2.467-5.947-4.279-12.163-7.098-17.959\n                c-0.903-5.279-0.269-10.84,1.923-15.753c2.033-5.162-2.109-10.137-1.103-15.333c0.841-6.078-0.551-12.335,1.02-18.331\n                c3.571-15.213-2.092-16.848-0.586-31.748c1.027-1.702,2.798-2.825,3.763-4.569c0.448-2.35,0.055-4.762,0.289-7.126\n                c0.083-1.812,0.717-3.57,0.62-5.389c-0.641-3.432-3.563-6.147-3.453-9.772c0.075-2.27-2.762-18.781-2.756-19.992\n                c-0.518-13.783-9.639-3.133-11.281-21.866c-0.454-4.443-6.915-9.566-3.046-18.813c1.089-2.639,1.654-5.437,1.978-8.263\n                c0.2-2.529,2.929-4.603,1.799-7.257c-11.772-32.631-5.209-29.104-23.141-55.936c-1.723-2.46-0.055-5.43-0.131-8.111\n                c-1.192-2.316-3.273-3.997-5.024-5.871c-9.695-9.465-4.075-4.898-26.828-13.479c-2.247-0.717-4.624-0.303-6.919-0.634\n                c-2.57-1.02-4.507-3.177-7.098-4.162c-2.564,0.648-4.851,2.06-7.346,2.922c-1.302-0.951-2.598-1.923-4.011-2.688\n                c-2.659-1.593-13.935-1.525-16.374,0.372c-11.984,8.468-10.643,10.153-16.057,19.24c-1.552,2.425-9.943,3.686-14.975,2.612\n                c-1.268-0.662-2.302-1.654-3.432-2.495c-1.974-1.518-15.29-7.79-16.291-8.132c-3.246-0.62-6.643-0.207-9.62,1.234\n                c-5.773,2.793-14.491,1.698-20.813,2.612c-13.919,2.012-25.497,8.444-38.768,12.232c-15.783,4.504-28.727,13.302-40.511,24.454\n                c-34.873,33-34.438,34.661-33.04,78.928c1.51,8.477,1.382,19.612,2.015,22.596c1.065,5.019,4.562,4.983,6.213,8.849\n                c1.93,4.424,2.019,9.337,2.598,14.058c-0.062,7.939,2.195,8.047-5.926,24.416c-2.243,4.497,0.543,3.313-8.89,19.44\n                c-2.863,4.369,1.239,12.358,5.623,13.858c4.748,1.661,9.896,0.434,14.761,1.295c1.572,0.278,2.604,3.446,3.14,4.648\n                c0.816,1.829,3.213,5.19,3.195,7.166c-0.021,2.268-7.17,6.338,2.556,11.846c-4.422,16.985,5.496,12.627,6.221,19.969\n                c0.52,11.275-9.499,36.19,29.226,27.703c3.962-0.999,8.104-0.021,12.08-0.937c32.053-6.535,28.843-0.564,54.84,40.762\n                c8.406,18.507,14.991,22.863,11.384,29.708c-11.785,25.252-15.061,64.112-15.237,65.129c-6.798,18.707-16.647,53.5-22.231,89.069\n                c-11.113,33.379-9.009,26.295-6.802,59.402c0.158,2.536,1.502,4.776,2.35,7.125c1.482,3.266-0.641,6.609-1.426,9.772\n                c-24.131,89.205-15.365,68.133-37.929,105.429c-3.373,5.363-19.29,60.297-23.361,77.898c-1.783,7.04,0.391,11.129-13.004,39.363\n                c-2.198,4.273-3.818,8.869-6.457,12.9c-2.957,1.35-14.615,1.619-17.042,2.226c-2.005,0.496-2.75,2.612-3.811,4.142\n                c-10.924-1.807-19.684-12.06-32.52-3.687c-8.493-1.559-9.402,1.838-12.639,4.328c-3.942,1.462-13.141,0.509-13.7,13.948\n                c0.034,1.792-2.24,1.937-3.466,2.639c-4.858,1.502-9.269,4.224-12.962,7.698c-2.309,2.102-2.088,5.561-3.611,8.097\n                c-9.29,8.715-5.211,5.611-6.953,12.342c-6.13,5.87-4.424,6.008-3.68,17.518c0.186,3.211,3.163,5.086,4.541,7.746\n                c0.129,2.423-12.487,10.28-18.353,16.548c-27.174,29.032-20.582,54.52-20.451,68.139c5.87,69.198,2.77,25.74,25.746,141.326\n                c0.71,3.57,0.158,7.374,1.647,10.778c4.638,10.578,5.43,22.279,8.711,33.271c6.822,36.972,34.971,116.182,39.549,143.104\n                c4.101,19.24-1.017,4.972,5.458,41.172c1.784,9.973,0.995,49.858,0.93,53.445c-0.938,15.303,8.585,12.991-17.841,23.244\n                c-2.701,0.903-5.63-0.158-8.359,0.655c-1,0.321-16.813,4.55-20.122,6.726c-9.3,5.924-8.036,15.707-29.274,22.038\n                c-0.152,0.448-0.441,1.344-0.593,1.799c5.274,2.073,11.633-6.909,24.367-10.041c4.918-1.054,12.306-8.3,21.094-6.76\n                c-1.33,2.385-4.348,3.025-5.706,5.389c-2.515,4.259-5.286,8.421-6.891,13.142c5.008,6.217,8.459,4.948-8.69,12.101\n                c-3.887,2.04-7.381,4.886-11.591,6.278c-3.101,1.041-6.685,0.848-9.324,3.039c-2.57,1.509-3.184,4.597-4.686,6.96\n                c-1.994,3.192-10.683,7.851-12.37,8.352c-6.044,1.702-12.349,2.047-18.593,2.061c-14.609,1.537-28.344,7.105-42.561,10.447\n                c-47.667,11.245,13.499,54.921,61.09,64.246c28.613,5.606,124.671-3.115,116.175-1.915c8.351-1.18,16.686-2.87,25.085-3.671\n                c7.401-0.706,14.772,1.036,22.162-0.161c3.618-0.586,7.262-0.093,10.855-0.539c3.651-0.453,7.17-1.558,10.795-2.091\n                c8.717-1.283,0.726,1.706,17.043-4.484c1.006-0.381,29.799-11.969,32.232-13.573c10.821-14.112,3.026-16.42,1.011-20.029\n                c-2.289-4.098-1.725-7.284-5.104-10.906c-3.825-4.1-2.984-10.475-6.719-14.644c-9.171-13.553-0.234,14.515-12.122-46.02\n                c-0.392-3.219,1.54-8.674-3.459-11.012c-4.08-0.372-6.505,5.603-10.812,3.742c-8.038-11.755-14.517-91.047-14.993-106.955\n                c-0.163-5.452,1.35-10.986,0.859-16.412c-0.475-5.244-1.584-10.044-1.537-15.47c0.069-3.073-1.613-5.83-1.702-8.869\n                c-0.179-10.833-1.275-21.618-1.936-32.423c-2.117-60.314,3.039-79.499-4.293-123.87c-9.06-43.456-4.13-44.292-17.936-79.488\n                c-9.079-23.145-4.359-27.578-13.998-34.355c0.958-1.544,1.351-3.549,2.729-4.741c2.446-0.172,4.851,0.496,7.298,0.475\n                c2.894-0.42,4.479-4.052,7.622-3.59c20.465,0.484,28.783-0.724,38.033,0.634c27.249,0.869,98.955,15.795,107.634,21.397\n                c2.846,1.985,6.402,0.813,9.579,1.53c81.97,18.76,114.137,12.06,174.927,11.674c207.526-14.653,38.614-65.889,219.369,50.878\n                c56.287,37.067,121.038,74.844,186.263,96.25c69.138,17.924,28.054,20.458,105.67,24.698c34.991,1.079,29.624-0.386,49.079,4.514\n                c14.766,2.051,44.771,10.397,57.494,15.547c0,0,15.824,2.751,40.114,10.234c13.516,4.75,105.335,29.864,106.794,30.37\n                c64.954,17.409,115.021,51.225,123.781,60.87c2.234,21.446-2.258,5.118,3.838,19.957c-2.722,1.096-5.775,0.524-8.449,1.64\n                c-1.516,1.716-1.344,4.197-1.64,6.34c-0.042,7.995-33.626,34.212-32.354,44.752c0.22,3.087-1.006,6.464,0.689,9.303\n                c1.847,3.397,3.067,7.277,2.619,11.184c2.329,1.557,3.177,4.307,3.48,6.974c-0.434,0.903-1.626,0.916-2.426,1.323\n                c-4.41,1.192-12.611,8.249-14.237,9.179c-11.433,6.309-19.983,12.51-16.293,25.167c4.195,14.387,28.304,12.979,45.801,14.513\n                c21.891,1.823,82.075-17.196,100.281-29.039c3.628-2.36,5.766-8.265,9.046-11.328c3.478-3.247,7.511-4.913,11.393-7.345\n                c5.215-3.266,9.298-8.087,14.449-11.34c5.097-3.218,10.818-5.297,15.563-9.158c2.143-1.744,4.982-2.129,7.25-3.652\n                c2.24-1.482,4.493-2.929,6.781-4.335c3.498-1.752,4.504-6.294,8.023-8.495c4.998-3.126,9.405-3.444,16.895-11.992\n                c1.544-1.763,4.117-7.571,5.99-8.58c1.265-0.682,10.88-2.798,16.947-19.71C1686.129,1423.652,1685.882,1407.838,1678.085,1404.443z\n                M323.681,907.901c-1.764,0.351-4.162-1.737-2.819-3.439c0,0,29.06-24.819,53.442-49.975c31.264-31.171,41.638-54.861,49.458-70.236\n                c1.812,2.185,2.619,4.948,3.763,7.505c2.853,6.622,6.078,13.086,9.496,19.44c3.149,5.389,7.374,10.296,9.096,16.401\n                c16.903,51.41,10.147,34.412,25.125,59.623c3.211,4.204,6.237,8.552,9.496,12.728C478.796,901.31,324.688,907.9,323.681,907.901z\n                M557.88,390.473c-1.316,0.662-2.371-0.786-3.342-1.427c-2.016-1.841-12.078-8.532-7.374-10.316\n                c0.942-0.607,9.667,3.483,11.205,7.167C559.003,387.309,559.734,389.632,557.88,390.473z M1486.53,1480.598\n                c-0.055,1.978-0.303,3.956-0.531,5.94c-4.16,2.011-6.068,2.072-7.897,10.702c-8.479,3.363-1.271,2.202-17.228,7.711\n                c-1.599-2.867-1.964-6.147-3.073-9.186c-7.761-22.664-3.323-23.744,17.083-40.383c2.24-1.812,3.659-4.948,6.871-5.161\n                c0.076,1.585,0.165,3.184,0.331,4.796c2.384,0.675,4.831,1.151,7.325,1.399C1488.9,1464.534,1486.392,1472.425,1486.53,1480.598z"}})])]),n("p",[t._v("Novo plaćanje")])]),n("Period",{attrs:{isGrid:!0},on:{dates:t.startPeriod,"filter-period":t.filterItems}})],1),n("search-bar",{attrs:{searchStr:t.search,pageSizeNr:t.pageSize,searchType:"traži (mjesec, godina)"},on:{changed:t.setPageSize,typed:t.searchItems}}),n("div",{},[n("div",{staticClass:"days__list payment__heading"},[n("span",[t._v("Godina")]),n("span",[t._v("Mjesec")]),n("span",[t._v("Iznos")])]),t._l(t.pageOfItems,(function(e){return n("div",{key:e._id,staticClass:"clients__list payment__list",on:{click:function(n){return t.selectPayment(e)}}},[n("p",{staticClass:"client__item"},[t._v(t._s(e.payment_year))]),n("p",{staticClass:"client__item"},[t._v(t._s(e.payment_month))]),n("p",{staticClass:"client__item"},[t._v(t._s(t.mapPayments(e)))])])})),n("div",{staticClass:"days__list payment__heading"},[n("h4",{staticClass:"total__title"},[t._v("UKUPNO :")]),n("h4",{staticClass:"page__total"},[t._v(t._s(t.pageTotalAmount))])])],2)],1)]),n("jw-pagination",{staticClass:"pagine",attrs:{items:t.filteredClients,initialPage:t.initialPage,pageSize:t.pageSize,labels:t.customLabels,styles:t.customStyles},on:{changePage:t.onChangePage}})],1)},i=[],r=(n("4de4"),n("caad"),n("d81d"),n("13d5"),n("fb6a"),n("d3b7"),n("25f0"),n("2532"),n("96cf"),n("1da1")),s=n("5530"),c=n("2f62"),o=n("7d33"),l=n("d149"),u=n("8351"),m=n("2f60"),p=n("7146"),d=n("c7e8"),f=n("87fd"),_=n("5a0c"),h=n.n(_),v=n("f1e9"),g=n.n(v);h.a.locale(g.a);var y={name:"Payments",components:{Loading:o["a"],SearchBar:u["a"],Period:m["a"]},mixins:[p["a"],d["a"],f["a"]],data:function(){return{customLabels:l["a"],customStyles:l["b"],dateFrom:(new Date).toISOString().slice(0,10),dateTill:(new Date).toISOString().slice(0,10)}},computed:Object(s["a"])(Object(s["a"])({},Object(c["c"])(["getAllPayments","getClientsPage","getClientsPageSize","loadingState"])),{},{pageTotalAmount:function(){return this.filteredClients.map((function(t){return t.members.reduce((function(t,e){return t+e.payment_amount}),0)})).reduce((function(t,e){return t+e}),0)}}),methods:Object(s["a"])(Object(s["a"])({},Object(c["b"])(["fetchPayments","fetchPayment","fetchClientsPage","fetchClientsPageSize","paymentClear","setLoadingState"])),{},{newPayment:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.setLoadingState(!0),t.$router.push("/payment"),e.next=4,t.paymentClear();case 4:case"end":return e.stop()}}),e)})))()},selectPayment:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.setLoadingState(!0),n.next=3,e.fetchPayment(t);case 3:e.$router.push("/payment");case 4:case"end":return n.stop()}}),n)})))()},mapPayments:function(t){return t.members.reduce((function(t,e){var n=e.payment_amount;return t+n}),0)},searchItems:function(){var t=arguments,e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.length>0&&void 0!==t[0]?t[0]:"",n.next=3,e.initItems();case 3:i=e.getAllPayments.filter((function(t){return t.payment_year.toString().includes(a)||t.payment_month.toLowerCase().includes(a.toLowerCase())})),e.filteredClients=i;case 5:case"end":return n.stop()}}),n)})))()},startPeriod:function(t,e){this.filterItems(t,e)},filterItems:function(t,e){this.dateFrom=t,this.dateTill=e;var n=this.getAllPayments.filter((function(n){return h()(n.payment_date).format("YYYY-MM-DD")>=h()(t).format("YYYY-MM-DD")&&h()(n.payment_date).format("YYYY-MM-DD")<=h()(e).format("YYYY-MM-DD")}));this.filteredClients=n},initItems:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.getAllPayments.length){e.next=3;break}return e.next=3,t.fetchPayments();case 3:t.filteredClients=t.getAllPayments,t.startPeriod(t.dateFrom,t.dateTill),1!==t.getClientsPage&&(t.initialPage=t.getClientsPage),10!==t.getClientsPageSize&&(t.pageSize=t.getClientsPageSize);case 7:case"end":return e.stop()}}),e)})))()}}),mounted:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.initItems();case 2:t.setLoadingState(!1);case 3:case"end":return e.stop()}}),e)})))()}},b=y,C=(n("18b9"),n("2877")),P=Object(C["a"])(b,a,i,!1,null,null,null);e["default"]=P.exports},ca91:function(t,e,n){"use strict";e["a"]={methods:{checkMonth:function(){var t=new Date,e=new Array;e[0]="Januar",e[1]="Februar",e[2]="Mart",e[3]="April",e[4]="Maj",e[5]="Jun",e[6]="Jul",e[7]="Avgust",e[8]="Septembar",e[9]="Oktobar",e[10]="Novembar",e[11]="Decembar";var n=e[t.getMonth()];return n}}}},cd74:function(t,e,n){"use strict";var a=n("88ad"),i=n.n(a);i.a}}]);
//# sourceMappingURL=payment.0966da1d.js.map