<template>
  <div class="">
    <div v-if="loadingState" class="">
      <img src="../assets/img/loading1.gif" alt="" class="loading">
      loading ...
    </div>
    <div v-else class="client__wrapper">
      <button type="submit" @click="newAttendance()" class="action_btn client__add">
<!--         <svg version="1.1" id="Layer_1" x="0px" y="0px" fill="var(--purple)" width="50px" height="50px"
            viewBox="0 0 1718.107 1659.385" enable-background="new 0 0 1718.107 1659.385" xml:space="preserve">
          <g>
          <path d="M1678.085,1404.443c-2.942-1.281-6.436-1.743-8.503-4.458c-7.395-9.709-19.912-15.579-28.978-23.396
            c-6.481-5.588-3.711-4.664-24.96-19.847c-4.349-2.845-6.314-12.022-14.582-8.566c-1.909,1.509-2.901,3.866-4.741,5.437
            c-15.227,0.075-80.589-33.218-116.006-54.574c-58.888-35.509-27.97-16.459-59.962-32.318
            c-112.914-64.49-113.05-64.136-210.18-82.383c-15.367-2.887-31.103-3.375-46.305-7.741c-9.567-2.747-17.817-8.159-26.741-12.345
            c-93.146-43.687-32.857-12.772-190.492-138.408c-1-0.996-19.368-15.461-27.393-25.07c-3.26-3.825-7.553-6.65-10.571-10.681
            c-0.972-1.75-0.469-3.942-1.309-5.706c-1.771-1.688-4.307-2.04-6.326-3.266c-3.322-2.984-3.956-7.76-6.788-11.116
            c-4.285-4.907-15.206-16.106-15.23-23.458c0.392-17.954-20.182-64.773-53.042-95.685c-13.693-13.898-47.767-32.83-52.063-34.773
            c-0.186-2.433-2.212-3.618-3.673-5.217c-9.227-20.226-18.118-6.888-22.782-5.706c-2.157,0.531-3.273-1.675-4.321-3.115
            c-5.902-9.563-29.751-22.935-31.183-23.968c-1.888-1.854-3.067-4.266-4.576-6.402c-2.439-3.907-6.106-6.843-8.421-10.833
            c-3.184-5.672-8.504-9.772-14.203-12.708c-22.135-10.699-20.964-2.095-27.524-13.838c-1.316-2.302-1.447-5.003-1.461-7.587
            c0.014-3.411-1.826-6.409-2.66-9.627c-3.556-12.032-4.056-8.861-8.566-14.203c-0.806-1.937-0.455-4.197-1.433-6.085
            c-2.136-3.983-7.112-5.547-8.814-9.834c-2.329-5.52-2.295-11.75-4.907-17.18c-1.564-3.384-0.338-7.277-1.757-10.695
            c-1.806-4.665-3.308-9.441-5.141-14.093c-1.454-3.501-1.047-7.525-2.929-10.861c-1.606-3.253-1.544-6.981-2.122-10.482
            c-0.165-1.001-9.567-35.106-9.338-39.576c0.138-4.424-1.861-8.469-2.901-12.673c-3.074-19.491-5.86-51.532-11.198-75.032
            c-0.184-1-9.33-33.249-6.712-39.687c1.792,0.868,3.673,2.116,5.754,1.392c-0.276-1.295,0.007-2.853-0.992-3.873
            c-1.647-1.894-10.927-8.77-5.534-13.252c2.157-2.095,2.667-5.168,3.294-7.98c0.655-2.874-1.316-5.403-2.667-7.746
            c-3.303-5.771-11.736-2.21-10.399-22.734c-4.996-20.164-11.149-19.904-12.935-28.557c-0.462-1.682-0.4-3.604-1.482-5.044
            c-3.411-2.536-8.07-3.032-10.992-6.285c-10.938-12.276-10.341-9.435-6.547-15.023c2.384-2.736,2.364-7.16,5.651-9.138
            c8.034-1.286,15.513,2.879,13.893-6.878c-0.799-4.293-4.3-7.181-6.278-10.861c-2.467-5.947-4.279-12.163-7.098-17.959
            c-0.903-5.279-0.269-10.84,1.923-15.753c2.033-5.162-2.109-10.137-1.103-15.333c0.841-6.078-0.551-12.335,1.02-18.331
            c3.571-15.213-2.092-16.848-0.586-31.748c1.027-1.702,2.798-2.825,3.763-4.569c0.448-2.35,0.055-4.762,0.289-7.126
            c0.083-1.812,0.717-3.57,0.62-5.389c-0.641-3.432-3.563-6.147-3.453-9.772c0.075-2.27-2.762-18.781-2.756-19.992
            c-0.518-13.783-9.639-3.133-11.281-21.866c-0.454-4.443-6.915-9.566-3.046-18.813c1.089-2.639,1.654-5.437,1.978-8.263
            c0.2-2.529,2.929-4.603,1.799-7.257c-11.772-32.631-5.209-29.104-23.141-55.936c-1.723-2.46-0.055-5.43-0.131-8.111
            c-1.192-2.316-3.273-3.997-5.024-5.871c-9.695-9.465-4.075-4.898-26.828-13.479c-2.247-0.717-4.624-0.303-6.919-0.634
            c-2.57-1.02-4.507-3.177-7.098-4.162c-2.564,0.648-4.851,2.06-7.346,2.922c-1.302-0.951-2.598-1.923-4.011-2.688
            c-2.659-1.593-13.935-1.525-16.374,0.372c-11.984,8.468-10.643,10.153-16.057,19.24c-1.552,2.425-9.943,3.686-14.975,2.612
            c-1.268-0.662-2.302-1.654-3.432-2.495c-1.974-1.518-15.29-7.79-16.291-8.132c-3.246-0.62-6.643-0.207-9.62,1.234
            c-5.773,2.793-14.491,1.698-20.813,2.612c-13.919,2.012-25.497,8.444-38.768,12.232c-15.783,4.504-28.727,13.302-40.511,24.454
            c-34.873,33-34.438,34.661-33.04,78.928c1.51,8.477,1.382,19.612,2.015,22.596c1.065,5.019,4.562,4.983,6.213,8.849
            c1.93,4.424,2.019,9.337,2.598,14.058c-0.062,7.939,2.195,8.047-5.926,24.416c-2.243,4.497,0.543,3.313-8.89,19.44
            c-2.863,4.369,1.239,12.358,5.623,13.858c4.748,1.661,9.896,0.434,14.761,1.295c1.572,0.278,2.604,3.446,3.14,4.648
            c0.816,1.829,3.213,5.19,3.195,7.166c-0.021,2.268-7.17,6.338,2.556,11.846c-4.422,16.985,5.496,12.627,6.221,19.969
            c0.52,11.275-9.499,36.19,29.226,27.703c3.962-0.999,8.104-0.021,12.08-0.937c32.053-6.535,28.843-0.564,54.84,40.762
            c8.406,18.507,14.991,22.863,11.384,29.708c-11.785,25.252-15.061,64.112-15.237,65.129c-6.798,18.707-16.647,53.5-22.231,89.069
            c-11.113,33.379-9.009,26.295-6.802,59.402c0.158,2.536,1.502,4.776,2.35,7.125c1.482,3.266-0.641,6.609-1.426,9.772
            c-24.131,89.205-15.365,68.133-37.929,105.429c-3.373,5.363-19.29,60.297-23.361,77.898c-1.783,7.04,0.391,11.129-13.004,39.363
            c-2.198,4.273-3.818,8.869-6.457,12.9c-2.957,1.35-14.615,1.619-17.042,2.226c-2.005,0.496-2.75,2.612-3.811,4.142
            c-10.924-1.807-19.684-12.06-32.52-3.687c-8.493-1.559-9.402,1.838-12.639,4.328c-3.942,1.462-13.141,0.509-13.7,13.948
            c0.034,1.792-2.24,1.937-3.466,2.639c-4.858,1.502-9.269,4.224-12.962,7.698c-2.309,2.102-2.088,5.561-3.611,8.097
            c-9.29,8.715-5.211,5.611-6.953,12.342c-6.13,5.87-4.424,6.008-3.68,17.518c0.186,3.211,3.163,5.086,4.541,7.746
            c0.129,2.423-12.487,10.28-18.353,16.548c-27.174,29.032-20.582,54.52-20.451,68.139c5.87,69.198,2.77,25.74,25.746,141.326
            c0.71,3.57,0.158,7.374,1.647,10.778c4.638,10.578,5.43,22.279,8.711,33.271c6.822,36.972,34.971,116.182,39.549,143.104
            c4.101,19.24-1.017,4.972,5.458,41.172c1.784,9.973,0.995,49.858,0.93,53.445c-0.938,15.303,8.585,12.991-17.841,23.244
            c-2.701,0.903-5.63-0.158-8.359,0.655c-1,0.321-16.813,4.55-20.122,6.726c-9.3,5.924-8.036,15.707-29.274,22.038
            c-0.152,0.448-0.441,1.344-0.593,1.799c5.274,2.073,11.633-6.909,24.367-10.041c4.918-1.054,12.306-8.3,21.094-6.76
            c-1.33,2.385-4.348,3.025-5.706,5.389c-2.515,4.259-5.286,8.421-6.891,13.142c5.008,6.217,8.459,4.948-8.69,12.101
            c-3.887,2.04-7.381,4.886-11.591,6.278c-3.101,1.041-6.685,0.848-9.324,3.039c-2.57,1.509-3.184,4.597-4.686,6.96
            c-1.994,3.192-10.683,7.851-12.37,8.352c-6.044,1.702-12.349,2.047-18.593,2.061c-14.609,1.537-28.344,7.105-42.561,10.447
            c-47.667,11.245,13.499,54.921,61.09,64.246c28.613,5.606,124.671-3.115,116.175-1.915c8.351-1.18,16.686-2.87,25.085-3.671
            c7.401-0.706,14.772,1.036,22.162-0.161c3.618-0.586,7.262-0.093,10.855-0.539c3.651-0.453,7.17-1.558,10.795-2.091
            c8.717-1.283,0.726,1.706,17.043-4.484c1.006-0.381,29.799-11.969,32.232-13.573c10.821-14.112,3.026-16.42,1.011-20.029
            c-2.289-4.098-1.725-7.284-5.104-10.906c-3.825-4.1-2.984-10.475-6.719-14.644c-9.171-13.553-0.234,14.515-12.122-46.02
            c-0.392-3.219,1.54-8.674-3.459-11.012c-4.08-0.372-6.505,5.603-10.812,3.742c-8.038-11.755-14.517-91.047-14.993-106.955
            c-0.163-5.452,1.35-10.986,0.859-16.412c-0.475-5.244-1.584-10.044-1.537-15.47c0.069-3.073-1.613-5.83-1.702-8.869
            c-0.179-10.833-1.275-21.618-1.936-32.423c-2.117-60.314,3.039-79.499-4.293-123.87c-9.06-43.456-4.13-44.292-17.936-79.488
            c-9.079-23.145-4.359-27.578-13.998-34.355c0.958-1.544,1.351-3.549,2.729-4.741c2.446-0.172,4.851,0.496,7.298,0.475
            c2.894-0.42,4.479-4.052,7.622-3.59c20.465,0.484,28.783-0.724,38.033,0.634c27.249,0.869,98.955,15.795,107.634,21.397
            c2.846,1.985,6.402,0.813,9.579,1.53c81.97,18.76,114.137,12.06,174.927,11.674c207.526-14.653,38.614-65.889,219.369,50.878
            c56.287,37.067,121.038,74.844,186.263,96.25c69.138,17.924,28.054,20.458,105.67,24.698c34.991,1.079,29.624-0.386,49.079,4.514
            c14.766,2.051,44.771,10.397,57.494,15.547c0,0,15.824,2.751,40.114,10.234c13.516,4.75,105.335,29.864,106.794,30.37
            c64.954,17.409,115.021,51.225,123.781,60.87c2.234,21.446-2.258,5.118,3.838,19.957c-2.722,1.096-5.775,0.524-8.449,1.64
            c-1.516,1.716-1.344,4.197-1.64,6.34c-0.042,7.995-33.626,34.212-32.354,44.752c0.22,3.087-1.006,6.464,0.689,9.303
            c1.847,3.397,3.067,7.277,2.619,11.184c2.329,1.557,3.177,4.307,3.48,6.974c-0.434,0.903-1.626,0.916-2.426,1.323
            c-4.41,1.192-12.611,8.249-14.237,9.179c-11.433,6.309-19.983,12.51-16.293,25.167c4.195,14.387,28.304,12.979,45.801,14.513
            c21.891,1.823,82.075-17.196,100.281-29.039c3.628-2.36,5.766-8.265,9.046-11.328c3.478-3.247,7.511-4.913,11.393-7.345
            c5.215-3.266,9.298-8.087,14.449-11.34c5.097-3.218,10.818-5.297,15.563-9.158c2.143-1.744,4.982-2.129,7.25-3.652
            c2.24-1.482,4.493-2.929,6.781-4.335c3.498-1.752,4.504-6.294,8.023-8.495c4.998-3.126,9.405-3.444,16.895-11.992
            c1.544-1.763,4.117-7.571,5.99-8.58c1.265-0.682,10.88-2.798,16.947-19.71C1686.129,1423.652,1685.882,1407.838,1678.085,1404.443z
            M323.681,907.901c-1.764,0.351-4.162-1.737-2.819-3.439c0,0,29.06-24.819,53.442-49.975c31.264-31.171,41.638-54.861,49.458-70.236
            c1.812,2.185,2.619,4.948,3.763,7.505c2.853,6.622,6.078,13.086,9.496,19.44c3.149,5.389,7.374,10.296,9.096,16.401
            c16.903,51.41,10.147,34.412,25.125,59.623c3.211,4.204,6.237,8.552,9.496,12.728C478.796,901.31,324.688,907.9,323.681,907.901z
            M557.88,390.473c-1.316,0.662-2.371-0.786-3.342-1.427c-2.016-1.841-12.078-8.532-7.374-10.316
            c0.942-0.607,9.667,3.483,11.205,7.167C559.003,387.309,559.734,389.632,557.88,390.473z M1486.53,1480.598
            c-0.055,1.978-0.303,3.956-0.531,5.94c-4.16,2.011-6.068,2.072-7.897,10.702c-8.479,3.363-1.271,2.202-17.228,7.711
            c-1.599-2.867-1.964-6.147-3.073-9.186c-7.761-22.664-3.323-23.744,17.083-40.383c2.24-1.812,3.659-4.948,6.871-5.161
            c0.076,1.585,0.165,3.184,0.331,4.796c2.384,0.675,4.831,1.151,7.325,1.399C1488.9,1464.534,1486.392,1472.425,1486.53,1480.598z"/>
          </g>
        </svg> -->
        <svg fill="var(--purple)" width="50px" height="50px" viewBox="0 0 1106.000000 1280.000000"
          preserveAspectRatio="xMidYMid meet">
          <g transform="translate(0.000000,1280.000000) scale(0.100000,-0.100000)"
          fill="var(--purple)" stroke="none">
          <path d="M1975 12688 c-61 -121 -60 -116 -39 -245 9 -57 0 -87 -41 -132 -33
          -36 -38 -38 -78 -34 -56 7 -133 -31 -178 -87 -18 -22 -38 -40 -45 -40 -31 0
          -55 -36 -64 -98 -7 -48 -16 -71 -39 -98 -17 -19 -33 -44 -35 -57 -2 -12 -9
          -49 -16 -82 -7 -33 -15 -98 -19 -145 -6 -59 -16 -103 -35 -145 -16 -33 -46
          -118 -67 -190 -91 -298 -117 -364 -242 -610 -67 -133 -107 -205 -170 -305 -33
          -52 -71 -115 -85 -140 -14 -25 -35 -61 -46 -80 -12 -19 -27 -46 -33 -60 -6
          -14 -23 -50 -37 -79 -14 -30 -26 -60 -26 -67 0 -6 -6 -17 -13 -23 -8 -6 -20
          -30 -27 -53 -18 -58 -26 -66 -69 -74 -20 -4 -48 -13 -63 -20 -15 -8 -37 -14
          -50 -14 -27 -1 -122 -53 -172 -95 -47 -39 -63 -86 -76 -215 -6 -58 -17 -132
          -24 -165 -8 -33 -19 -87 -26 -120 -33 -158 -93 -344 -125 -385 -21 -27 -35
          -120 -35 -229 0 -109 3 -122 60 -271 12 -30 24 -64 27 -74 15 -48 80 -168 131
          -241 66 -94 187 -239 321 -385 114 -123 238 -264 266 -301 23 -30 117 -144
          144 -174 10 -11 45 -52 77 -90 33 -39 69 -81 81 -95 12 -14 50 -61 85 -105 83
          -106 142 -176 204 -244 27 -31 84 -101 124 -156 122 -164 230 -293 349 -415
          165 -168 179 -186 197 -266 8 -38 19 -85 25 -104 5 -19 16 -206 24 -415 27
          -700 36 -800 105 -1120 11 -55 25 -122 30 -150 5 -27 16 -77 25 -110 27 -99
          45 -176 60 -260 7 -44 18 -100 24 -125 6 -25 10 -70 11 -100 0 -30 7 -104 16
          -165 13 -87 15 -158 11 -345 -7 -275 -32 -677 -47 -737 -8 -35 -7 -51 10 -94
          24 -60 75 -115 122 -131 51 -17 84 -44 98 -80 6 -18 16 -41 21 -51 5 -9 22
          -50 38 -90 16 -39 67 -146 114 -237 47 -91 99 -203 117 -250 18 -47 38 -98 45
          -115 39 -98 80 -230 111 -360 13 -55 28 -113 34 -130 6 -16 15 -109 21 -205 9
          -162 29 -280 47 -280 4 0 13 -13 20 -30 8 -16 19 -30 25 -30 6 0 19 -8 30 -18
          17 -15 48 -17 286 -19 146 -1 287 -6 314 -11 29 -6 65 -6 92 0 49 11 170 8
          516 -12 204 -11 229 -11 257 4 17 9 40 16 52 16 24 0 60 53 60 91 0 54 -30
          125 -72 172 -24 26 -49 47 -56 47 -7 0 -34 16 -59 35 -25 19 -50 35 -55 35 -5
          0 -16 7 -24 15 -9 8 -24 15 -33 15 -10 0 -24 7 -31 15 -7 8 -19 15 -27 15 -7
          0 -24 7 -38 16 -19 12 -28 13 -46 4 -14 -8 -39 -10 -68 -6 -62 10 -69 9 -123
          -4 -42 -10 -52 -9 -101 14 -30 14 -58 30 -62 35 -3 6 -16 11 -28 11 -12 1 -40
          12 -62 25 -22 14 -51 30 -64 35 -26 12 -82 65 -94 90 -4 8 -23 40 -42 70 -63
          102 -92 174 -120 300 -9 41 -21 89 -26 105 -6 17 -19 75 -29 130 -11 55 -25
          123 -30 150 -11 57 -67 433 -81 545 -5 41 -6 89 -3 107 3 17 -1 60 -9 95 -10
          40 -18 141 -22 273 -5 143 -12 225 -22 257 -12 37 -13 54 -4 79 21 60 10 115
          -29 145 -12 10 -13 19 0 65 10 38 15 118 16 274 2 370 11 495 46 610 16 55 34
          116 38 135 4 19 13 56 19 83 6 26 16 68 22 95 14 63 28 353 29 590 0 107 4
          202 10 212 7 13 27 20 72 25 35 4 72 12 83 19 11 6 103 16 205 22 282 18 438
          39 517 69 37 15 93 36 123 48 30 12 102 47 161 79 73 40 130 63 180 73 41 9
          97 26 125 39 29 13 67 27 85 31 62 12 172 66 269 133 65 45 117 94 244 235 38
          43 75 77 83 77 7 0 13 4 13 8 0 11 56 37 99 47 51 11 111 57 192 147 80 89
          163 174 247 252 66 61 142 149 142 165 0 6 6 22 14 34 13 19 54 159 70 238 3
          15 14 30 23 34 10 4 149 13 308 20 353 17 361 18 740 118 94 25 208 54 255 66
          116 29 205 56 270 80 55 21 93 27 223 35 50 3 80 12 113 31 25 15 125 53 222
          85 261 87 428 149 532 197 30 14 98 45 150 68 110 49 457 220 474 233 6 5 55
          33 108 61 94 50 103 52 265 76 239 36 300 56 408 133 28 20 92 58 144 84 149
          77 208 117 222 150 9 23 10 31 0 37 -16 11 1 23 62 46 59 22 80 51 76 103 -2
          28 3 47 19 67 22 28 29 79 13 104 -5 7 -29 16 -55 18 -43 5 -46 7 -46 35 0 57
          -14 68 -88 68 -37 0 -83 -5 -102 -11 -61 -18 -183 -49 -184 -47 -23 67 -74 87
          -117 45 -13 -13 -41 -31 -61 -40 -20 -10 -40 -22 -43 -27 -3 -6 -15 -10 -25
          -10 -11 0 -35 -9 -55 -20 -19 -11 -56 -25 -81 -31 -53 -14 -92 -48 -188 -166
          -65 -79 -143 -143 -176 -143 -8 0 -74 -23 -145 -51 -72 -28 -148 -56 -171 -64
          -22 -7 -74 -27 -115 -45 -149 -64 -388 -135 -574 -170 -55 -10 -138 -28 -185
          -40 -47 -12 -101 -25 -120 -29 -49 -11 -123 -37 -189 -67 -65 -29 -67 -30
          -146 -74 -134 -74 -142 -77 -335 -99 -184 -22 -274 -37 -505 -86 -66 -13 -136
          -25 -155 -25 -34 0 -176 26 -191 36 -4 2 -54 13 -111 23 -57 11 -159 33 -228
          50 -69 16 -156 34 -195 39 -96 14 -125 26 -125 54 0 29 28 104 57 150 13 21
          23 44 23 51 0 7 4 17 8 23 5 5 16 29 25 54 11 27 49 80 97 134 44 49 80 92 80
          97 0 5 24 22 53 39 51 29 54 30 200 30 217 0 247 18 247 146 0 51 6 85 21 119
          17 38 19 52 10 72 -8 18 -8 30 0 45 10 19 9 47 -5 108 -5 22 -1 28 36 45 30
          14 49 33 62 59 18 36 18 39 1 76 -9 21 -35 58 -57 82 -80 87 -85 104 -92 283
          -6 182 -19 312 -36 369 -8 25 -34 62 -74 102 -61 61 -97 84 -136 84 -10 0 -41
          14 -68 30 -53 33 -137 60 -190 60 -19 0 -49 7 -68 16 -29 14 -45 15 -110 5
          -41 -6 -115 -11 -164 -11 -106 0 -172 -13 -254 -50 -73 -32 -238 -147 -284
          -196 -34 -37 -72 -104 -72 -126 0 -7 -11 -40 -24 -73 -30 -77 -43 -120 -51
          -170 -9 -59 -34 -172 -53 -238 -13 -46 -23 -62 -49 -78 -18 -11 -33 -24 -33
          -29 0 -4 -25 -19 -55 -34 -30 -14 -55 -29 -55 -33 0 -13 -86 -63 -107 -63 -11
          0 -26 6 -32 14 -7 8 -26 21 -44 30 -18 9 -39 20 -47 25 -8 5 -26 13 -40 19
          -14 6 -117 56 -230 111 l-205 101 -145 130 c-80 72 -165 151 -190 177 -47 49
          -196 177 -265 228 -156 115 -302 263 -369 375 -45 75 -50 82 -89 137 -20 29
          -55 72 -78 95 -23 24 -47 51 -54 61 -34 48 -296 305 -400 392 -38 32 -92 84
          -118 114 -27 31 -77 83 -110 116 -63 60 -99 104 -228 273 -74 99 -143 207
          -165 257 -7 17 -19 66 -28 110 -9 44 -21 89 -26 100 -5 11 -23 55 -41 98 -30
          75 -31 82 -26 185 3 59 10 141 17 182 14 87 7 211 -15 264 -8 19 -15 57 -15
          84 0 34 -6 57 -20 75 -11 14 -26 38 -33 54 -6 16 -33 47 -58 71 -40 36 -52 42
          -92 42 l-45 0 -57 -112z m331 -1815 c43 -54 84 -105 89 -114 9 -15 88 -130
          187 -272 18 -27 68 -96 111 -153 42 -58 81 -113 86 -122 5 -9 37 -51 70 -92
          34 -41 96 -119 139 -174 42 -54 116 -138 164 -187 87 -88 138 -156 138 -183 0
          -8 23 -36 51 -63 28 -26 82 -88 119 -138 93 -123 225 -282 419 -504 104 -120
          307 -320 426 -419 120 -101 195 -170 225 -209 14 -17 48 -60 75 -95 l50 -63
          -1 -125 c-1 -105 -5 -131 -22 -165 -12 -22 -26 -71 -32 -110 -6 -38 -18 -82
          -26 -97 -10 -18 -13 -40 -9 -60 4 -22 0 -48 -13 -79 -17 -38 -28 -49 -64 -63
          -89 -36 -138 -93 -173 -204 -13 -40 -28 -62 -63 -90 -25 -20 -77 -69 -116
          -107 -44 -43 -92 -80 -124 -95 -48 -21 -56 -23 -85 -11 -18 7 -52 18 -77 25
          -25 6 -59 20 -75 31 -29 20 -214 113 -345 173 -36 17 -114 40 -174 51 -60 12
          -112 24 -117 27 -8 5 -97 18 -224 33 -33 4 -70 12 -82 19 -12 7 -54 12 -93 12
          -51 0 -81 5 -108 19 -20 11 -62 32 -92 47 -30 15 -66 35 -79 45 -13 11 -28 19
          -33 19 -5 0 -40 26 -77 58 -37 31 -101 85 -142 119 -41 33 -96 84 -124 112
          -110 111 -387 364 -500 456 -109 88 -196 167 -265 239 -14 15 -38 40 -55 57
          -26 27 -30 40 -33 101 -4 63 -2 72 20 96 28 31 88 124 88 138 0 5 27 47 59 94
          68 97 162 261 175 305 13 42 19 266 9 306 -9 33 -7 43 81 457 14 62 29 127 34
          145 6 18 15 73 22 122 7 50 18 122 25 160 7 39 16 104 20 145 3 41 13 98 20
          125 8 28 19 81 25 119 19 117 74 194 132 182 43 -9 184 11 230 33 24 10 46 20
          49 20 3 1 41 -43 85 -96z"/>
          </g>
        </svg>
        <p>Nova prisustva</p> 
      </button>
      <div class="">
        <div class="days__list"><span>Datum</span><span>Napomena</span></div>
        <div v-for="attendance in getAllAttendances" :key="attendance._id" @click="selectAttendance(attendance)" class="clients__list">
          <p class="client__item">{{ attendance.attend_date | formatDate }}</p>
          <p class="client__item">{{ attendance.notes }}</p>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
  import moment from 'moment';
  import { mapGetters, mapActions } from 'vuex';
  export default {
    name: 'Attendances',

    computed: {
      ...mapGetters([ 'getAllAttendances',
                      'loadingState' ]),
    },

    methods: {
      ...mapActions([ 'fetchAttendances', 
                      'fetchAttendance',
                      'attendanceClear',
                      'formTypeChange',
                      'setLoadingState' ]),

      async newAttendance() {
        this.setLoadingState(true);
        this.formTypeChange('attendance');
        await this.attendanceClear();
      },

      async selectAttendance(attendance) {
        this.setLoadingState(true);
        await this.fetchAttendance(attendance);
        this.formTypeChange('attendance');
      }
    },

    filters: {
      formatDate: function(value) {
        if (value) {
          return moment(String(value)).format('dddd, LL')
        }
      }
    },

    async mounted() {
      await this.fetchAttendances();
      this.setLoadingState(false);
    }
  }
</script>

<style>

</style>